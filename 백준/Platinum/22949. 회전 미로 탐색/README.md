# [Platinum V] 회전 미로 탐색 - 22949 

[문제 링크](https://www.acmicpc.net/problem/22949) 

### 성능 요약

메모리: 144504 KB, 시간: 376 ms

### 분류

구현, 그래프 이론, 그래프 탐색, 시뮬레이션, 너비 우선 탐색

### 제출 일자

2025년 8월 30일 22:28:19

### 문제 설명

<p>$4k$×$4k$의 크기인 미로가 있다. 이 미로의 최상단 왼쪽을 $(1, 1)$, 최하단 오른쪽을 $(4k, 4k)$로 하자.</p>

<p>$\{(y, x) | 4×i < y ≤ 4×(i+1), 4×j < x ≤ 4×(j+1), (0 ≤ i, j < k)\}$ 를 만족하는 영역이 하나의 구역으로 구분되어 있다. 쉽게 말해, 4x4 크기를 하나의 구역으로 본다는 것이다. 아래 그림은 $k$가 2인 미로를 4×4 크기로 구역을 나누고 각 구역마다 다른 색상으로 칠한 것이다. $(y, x)$에 써져있는 숫자들은 구역의 번호이다.</p>

<p>예를 들어, $(2, 3)$와 $(3, 4)$은 둘다 구역 1이므로 같은 구역에 속하고 $(2, 3)$와 $(3, 5)$는 각각 구역 1, 구역 2이므로 다른 구역이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/b825fe2b-6da6-42c9-81e1-f6b77940a3dd/-/crop/1013x1006/455,37/-/preview/" style="width: 604px; height: 600px;"></p>

<p>미로를 탈출할 때까지 매 시간마다 아래와 같은 순서대로 진행된다.</p>

<ol>
	<li>상하좌우로 이동하거나 가만히 있는다. 단, 이동할 곳에 벽이 있거나 미로를 벗어나는 곳이면 이동하지 못한다.</li>
	<li>1번이 끝나고 현재 서 있는 위치 $(y, x)$가 포함된 구역이 시계방향으로 90도 회전한다.</li>
	<li>현재 서 있는 부분을 포함하는 구역을 제외한 나머지 구역들은 맨 처음에 주어진 방향으로 다시 돌아간다.</li>
	<li>만약 현재 위치가 탈출할 수 있는 곳이면 미로를 탈출한다.</li>
</ol>

<p>미로는 시작 부분인 <code>'S'</code>, 이동할 수 있는 곳 <code>'.'</code>, 벽 <code>'#'</code>, 탈출할 수 있는 곳 <code>'E'</code>로 구성되어 있다. <code>'S'</code>에서 출발하여 <code>'E'</code>로 갈때 최소 이동시간을 구해보자.</p>

### 입력 

 <p>첫 번째 줄에 $k$가 들어온다.</p>

<p>다음 $4k$ 줄에는 $4k$개의 문자로 미로의 정보가 주어진다.</p>

### 출력 

 <p><code>'S'</code>에서 출발하여 <code>'E'</code>로 갈때 최소 이동시간을 출력한다. 만약, 탈출을 하지 못하는 경우엔 -1을 출력한다.</p>

